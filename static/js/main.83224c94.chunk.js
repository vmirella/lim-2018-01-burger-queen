(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,a,t){e.exports=t(89)},31:function(e,a,t){},33:function(e,a,t){},89:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),s=t(10),l=t.n(s),r=(t(31),t(21)),o=t(22),i=t(25),u=t(23),d=t(24),m=t(5),p=function(e){return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col s12"},c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Producto"),c.a.createElement("th",null,"Precio"),c.a.createElement("th",null,"Cantidad"),c.a.createElement("th",null,"Subtotal"),c.a.createElement("th",null))),c.a.createElement("tbody",null,e.arrayOrders.map(function(a,t){return c.a.createElement("tr",{key:t},c.a.createElement("td",null,a.name),c.a.createElement("td",null,"S/. ",a.price),c.a.createElement("td",null,c.a.createElement("button",{className:"btn-small",onClick:function(){return e.updateQuantity(t,-1)}},c.a.createElement("i",{className:"material-icons"},"remove")),"\xa0\xa0",a.quantity,"\xa0\xa0",c.a.createElement("button",{className:"btn-small",onClick:function(){return e.updateQuantity(t,1)}},c.a.createElement("i",{className:"material-icons"},"add"))),c.a.createElement("td",null,"S/. ",a.subtotal),c.a.createElement("td",null,c.a.createElement("button",{className:"btn red darken-1",onClick:function(){return e.removeProduct(t)}},c.a.createElement("i",{className:"material-icons"},"close"))))}))),c.a.createElement("h4",null,"Total S/. ",e.total)))},h=(t(33),function(e){return c.a.createElement("div",{className:"col s6"},c.a.createElement("div",{className:"card",onClick:function(){return e.onAddProduct(e.name,1,e.price)}},c.a.createElement("div",{className:"card-content"},c.a.createElement("p",null,e.name),c.a.createElement("p",null,"S/. ",e.price))))}),f=t(4),v=t(6),b=t.n(v),E=function(e){function a(e){var t;return Object(r.a)(this,a),(t=Object(i.a)(this,Object(u.a)(a).call(this,e))).handleTabChange=function(e){"0"===e.slice(-1)?(t.setState({tabBreakfast:!0}),t.setState({tabLunch:!1})):(t.setState({tabBreakfast:!1}),t.setState({tabLunch:!0}))},t.handleCollapse=function(e){switch(t.setState({collapseCoffes:""}),t.setState({collapseJuices:""}),t.setState({collapseSandwiches:""}),t.setState({collapseBurgues:""}),t.setState({collapseAccompaniments:""}),t.setState({collapseDrinks:""}),e){case"collapseCoffes":t.setState({collapseCoffes:"active"});break;case"collapseJuices":t.setState({collapseJuices:"active"});break;case"collapseSandwiches":t.setState({collapseSandwiches:"active"});break;case"collapseBurgues":t.setState({collapseBurgues:"active"});break;case"collapseAccompaniments":t.setState({collapseAccompaniments:"active"});break;case"collapseDrinks":t.setState({collapseDrinks:"active"})}},t.sendOrder=function(){var e=t.state.orders,a=l.a.findDOMNode(t.refs.msg),n=l.a.findDOMNode(t.refs.error);if(""===t.state.client)return console.log("cliente vacio"),n.classList.add("show"),void setTimeout(function(){n.classList.remove("show")},3e3);var c={client:t.state.client,order:e},s=b.a.database().ref().child("orders").push().key;b.a.database().ref("orders/"+s).set(c,function(e){e?console.log("error al enviar"):(console.log("orden enviada"),a.classList.add("show"),setTimeout(function(){a.classList.remove("show")},3e3))})},t.state={orders:[],total:0,client:"",tabBreakfast:!0,tabLunch:!1,collapseCoffes:"",collapseJuices:"",collapseSandwiches:"",collapseBurgues:"",collapseAccompaniments:"",collapseDrinks:"",coffees:[],juices:[],sandwiches:[],burguers:[],accompaniments:[],drinks:[]},t.addProduct=t.addProduct.bind(Object(m.a)(Object(m.a)(t))),t.calculateTotal=t.calculateTotal.bind(Object(m.a)(Object(m.a)(t))),t.updateQuantity=t.updateQuantity.bind(Object(m.a)(Object(m.a)(t))),t.removeProduct=t.removeProduct.bind(Object(m.a)(Object(m.a)(t))),t}return Object(d.a)(a,e),Object(o.a)(a,[{key:"addProduct",value:function(e,a,t){var n=this.state.orders,c={name:e,quantity:a,promotion:{egg:!1,cheese:!1},price:t,subtotal:a*t};n.push(c),this.setState({orders:n}),this.calculateTotal()}},{key:"updateQuantity",value:function(e,a){var t=this.state.orders,n=t[e].quantity;(n+=a)>=1&&(t[e].quantity=n,t[e].subtotal=t[e].quantity*t[e].price,this.setState({orders:t}),this.calculateTotal())}},{key:"removeProduct",value:function(e){var a=this.state.orders;a.splice(e,1),this.setState({orders:a}),this.calculateTotal()}},{key:"calculateTotal",value:function(){var e=this.state.orders,a=0;e.map(function(e){return a+=e.subtotal}),this.setState({total:a})}},{key:"handleChange",value:function(e){this.setState({client:e.target.value})}},{key:"componentDidMount",value:function(){var e=[];b.a.database().ref("products").orderByChild("type").equalTo("cafes").once("value",function(a){a.forEach(function(a){e.push(a.val())})}),this.setState({coffees:e});var a=[];b.a.database().ref("products").orderByChild("type").equalTo("jugos").once("value",function(e){e.forEach(function(e){a.push(e.val())})}),this.setState({juices:a});var t=[];b.a.database().ref("products").orderByChild("type").equalTo("sandwiches").once("value",function(e){e.forEach(function(e){t.push(e.val())})}),this.setState({sandwiches:t});var n=[];b.a.database().ref("products").orderByChild("type").equalTo("hamburguesas").once("value",function(e){e.forEach(function(e){n.push(e.val())})}),this.setState({burguers:n});var c=[];b.a.database().ref("products").orderByChild("type").equalTo("acompa\xf1amientos").once("value",function(e){e.forEach(function(e){c.push(e.val())})}),this.setState({accompaniments:c});var s=[];b.a.database().ref("products").orderByChild("type").equalTo("bebidas").once("value",function(e){e.forEach(function(e){s.push(e.val())})}),this.setState({drinks:s})}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"App-header row"},c.a.createElement("div",{className:"col m6"},c.a.createElement("h2",null,"Burger Queen ",c.a.createElement("i",{className:"fas fa-chess-queen App-logo"}))),c.a.createElement("div",{className:"col m6 div-client"},c.a.createElement("label",null,"Nombre del cliente:"),c.a.createElement("input",{onChange:this.handleChange.bind(this),value:this.state.client}))),c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col m5"},c.a.createElement(f.Tabs,{onChange:this.handleTabChange},c.a.createElement(f.Tab,{title:"Desayuno",className:"waves-effect waves-light",active:this.state.tabBreakfast},c.a.createElement(f.Collapsible,null,c.a.createElement(f.CollapsibleItem,{header:"Caf\xe9s",className:this.state.collapseCoffes,onClick:function(){return e.handleCollapse("collapseCoffes")}},c.a.createElement("div",{className:"row"},this.state.coffees.map(function(a,t){return c.a.createElement(h,{name:a.name,price:a.price,key:t,onAddProduct:e.addProduct})}))),c.a.createElement(f.CollapsibleItem,{header:"Jugos",className:this.state.collapseJuices,onClick:function(){return e.handleCollapse("collapseJuices")}},c.a.createElement("div",{className:"row"},this.state.juices.map(function(a,t){return c.a.createElement(h,{name:a.name,price:a.price,key:t,onAddProduct:e.addProduct})}))),c.a.createElement(f.CollapsibleItem,{header:"Sandwiches",className:this.state.collapseSandwiches,onClick:function(){return e.handleCollapse("collapseSandwiches")}},c.a.createElement("div",{className:"row"},this.state.sandwiches.map(function(a,t){return c.a.createElement(h,{name:a.name,price:a.price,key:t,onAddProduct:e.addProduct})}))))),c.a.createElement(f.Tab,{title:"Almuerzo / Cena",active:this.state.tabLunch},c.a.createElement(f.Collapsible,null,c.a.createElement(f.CollapsibleItem,{header:"Hamburguesas",className:this.state.collapseBurgues,onClick:function(){return e.handleCollapse("collapseBurgues")}},c.a.createElement("div",{className:"row"},this.state.burguers.map(function(a,t){return c.a.createElement(h,{name:a.name,price:a.price,key:t,onAddProduct:e.addProduct})}))),c.a.createElement(f.CollapsibleItem,{header:"Acompa\xf1amientos",className:this.state.collapseAccompaniments,onClick:function(){return e.handleCollapse("collapseAccompaniments")}},c.a.createElement("div",{className:"row"},this.state.accompaniments.map(function(a,t){return c.a.createElement(h,{name:a.name,price:a.price,key:t,onAddProduct:e.addProduct})}))),c.a.createElement(f.CollapsibleItem,{header:"Bebidas",className:this.state.collapseDrinks,onClick:function(){return e.handleCollapse("collapseDrinks")}},c.a.createElement("div",{className:"row"},this.state.drinks.map(function(a,t){return c.a.createElement(h,{name:a.name,price:a.price,key:t,onAddProduct:e.addProduct})}))))))),c.a.createElement("div",{className:"col m7"},c.a.createElement(p,{arrayOrders:this.state.orders,total:this.state.total,updateQuantity:this.updateQuantity,removeProduct:this.removeProduct}),c.a.createElement(f.Button,{onClick:this.sendOrder},"Enviar pedido"),c.a.createElement("div",{className:"message",ref:"error"},"Debe ingresar el nombre del cliente"),c.a.createElement("div",{className:"message",ref:"msg"},"La orden fue enviada")))))}}]),a}(n.Component),g=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function k(e,a){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available; please refresh."),a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a.onSuccess&&a.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}b.a.initializeApp({apiKey:"AIzaSyBYmPMcn-VqibVzcG_b5ul8-rZZs-AeR9k",authDomain:"burguer-queen-2.firebaseapp.com",databaseURL:"https://burguer-queen-2.firebaseio.com",projectId:"burguer-queen-2",storageBucket:"burguer-queen-2.appspot.com",messagingSenderId:"994453384408"}),l.a.render(c.a.createElement(E,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/lim-2018-01-burger-queen",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var a="".concat("/lim-2018-01-burger-queen","/service-worker.js");g?(function(e,a){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):k(e,a)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(a,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):k(a,e)})}}()}},[[26,2,1]]]);
//# sourceMappingURL=main.83224c94.chunk.js.map